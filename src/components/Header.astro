---
const navItems = [
	{ label: "Services", href: "#services" },
	{ label: "Process", href: "#process" },
	{ label: "About", href: "#about" },
	{ label: "Contact", href: "#contact" },
];
---

<header class="relative z-50 bg-transparent">
	<div class="mx-auto w-full px-6 py-4 sm:px-10 sm:py-5">
		<div class="relative flex items-center justify-between">
			<a href="/" class="relative z-10 flex items-center gap-3 text-lg font-semibold">
				<span class="wordmark text-2xl font-semibold text-primary md:text-3xl">KORS</span>
			</a>
			<nav class="hidden items-center gap-6 text-base text-muted md:flex md:absolute md:left-1/2 md:-translate-x-1/2">
				{navItems.map((item) => (
					<a class="transition hover:text-primary" href={item.href}>
						{item.label}
					</a>
				))}
			</nav>
			<div class="flex items-center gap-3">
				<button
					class="theme-toggle inline-flex"
					type="button"
					aria-label="Toggle theme"
					data-theme-toggle
				>
					<span class="theme-toggle__track" aria-hidden="true">
						<span class="theme-toggle__icon theme-toggle__icon--sun">☀</span>
						<span class="theme-toggle__icon theme-toggle__icon--moon">☾</span>
						<span class="theme-toggle__thumb"></span>
					</span>
				</button>
				<button
					class="inline-flex items-center justify-center rounded-full border border-subtle bg-surface px-4 py-2 text-sm font-semibold text-primary transition hover:bg-surface-strong md:hidden"
					type="button"
					aria-expanded="false"
					aria-controls="mobile-nav"
					data-mobile-toggle
				>
					Menu
				</button>
			</div>
		</div>
		<nav
			id="mobile-nav"
			class="mt-4 hidden flex-col gap-3 rounded-2xl border border-subtle bg-surface p-4 text-base text-body md:hidden"
		>
			{navItems.map((item) => (
				<a class="rounded-lg px-2 py-2 transition hover:bg-surface-strong" href={item.href}>
					{item.label}
				</a>
			))}
		</nav>
	</div>
	<script is:inline>
		const toggle = document.querySelector("[data-mobile-toggle]");
		const themeToggle = document.querySelector("[data-theme-toggle]");
		if (themeToggle) {
			const root = document.documentElement;
			const updateToggleState = () => {
				const active = root.getAttribute("data-theme") === "light";
				themeToggle.classList.toggle("is-active", active);
			};
			const setTheme = (theme) => {
				root.setAttribute("data-theme", theme);
				root.style.colorScheme = theme;
				localStorage.setItem("theme", theme);
				const themeMeta = document.querySelector("meta[name='theme-color']");
				if (themeMeta) {
					themeMeta.setAttribute("content", theme === "light" ? "#f8fafc" : "#070b14");
				}
				updateToggleState();
			};
			updateToggleState();
			themeToggle.addEventListener("click", () => {
				const current = root.getAttribute("data-theme") || "dark";
				setTheme(current === "light" ? "dark" : "light");
			});
		}
		const menu = document.getElementById("mobile-nav");
		if (toggle && menu) {
			toggle.addEventListener("click", () => {
				const isOpen = menu.classList.toggle("hidden") === false;
				toggle.setAttribute("aria-expanded", String(isOpen));
			});
			menu.querySelectorAll("a").forEach((link) => {
				link.addEventListener("click", () => {
					menu.classList.add("hidden");
					toggle.setAttribute("aria-expanded", "false");
				});
			});
		}
	</script>
</header>
